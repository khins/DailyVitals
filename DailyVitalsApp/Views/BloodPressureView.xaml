<Window x:Class="DailyVitals.App.Views.BloodPressureView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Blood Pressure Entry"
        Height="550"
        Width="650"
        WindowStartupLocation="CenterOwner">

    <Grid Margin="15">

        <!-- ROW DEFINITIONS -->
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <!-- Person -->
            <RowDefinition Height="180"/>
            <!-- History Grid -->
            <RowDefinition Height="Auto"/>
            <!-- Systolic -->
            <RowDefinition Height="Auto"/>
            <!-- Diastolic -->
            <RowDefinition Height="Auto"/>
            <!-- Pulse -->
            <RowDefinition Height="Auto"/>
            <!-- Reading Time -->
            <RowDefinition Height="Auto"/>
            <!-- Notes -->
            <RowDefinition Height="Auto"/>
            <!-- Buttons -->
        </Grid.RowDefinitions>

        <!-- COLUMN DEFINITIONS -->
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="160"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- PERSON -->
        <TextBlock Grid.Row="0" Grid.Column="0"
                   Text="Person:"
                   VerticalAlignment="Center"/>

        <ComboBox Grid.Row="0" Grid.Column="1"
                  Width="250"
                  ItemsSource="{Binding Persons}"
                  SelectedItem="{Binding SelectedPerson, Mode=TwoWay}"
                  DisplayMemberPath="FullName"
                  Margin="0,5"/>

        <!-- BP HISTORY GRID -->
        <DataGrid Grid.Row="1"
                  Grid.ColumnSpan="2"
                  ItemsSource="{Binding History}"
                  SelectedItem="{Binding SelectedHistory}"
                  AutoGenerateColumns="False"
                  IsReadOnly="True"
                  Margin="0,10"
                  SelectionMode="Single">

            <DataGrid.Columns>
                <DataGridTextColumn Header="Date"
                                    Binding="{Binding ReadingTime, StringFormat=d}"
                                    Width="120"/>
                <DataGridTextColumn Header="Sys"
                                    Binding="{Binding Systolic}"
                                    Width="70"/>
                <DataGridTextColumn Header="Dia"
                                    Binding="{Binding Diastolic}"
                                    Width="70"/>
                <DataGridTextColumn Header="Pulse"
                                    Binding="{Binding Pulse}"
                                    Width="70"/>
                <DataGridTextColumn Header="Notes"
                                    Binding="{Binding Notes}"
                                    Width="*"/>
            </DataGrid.Columns>
        </DataGrid>

        <!-- SYSTOLIC -->
        <TextBlock Grid.Row="2" Grid.Column="0"
                   Text="Systolic (mmHg):"
                   VerticalAlignment="Center"/>

        <TextBox Grid.Row="2" Grid.Column="1"
                 Width="100"
                 Text="{Binding Systolic, UpdateSourceTrigger=PropertyChanged}"
                 Margin="0,4"/>

        <!-- DIASTOLIC -->
        <TextBlock Grid.Row="3" Grid.Column="0"
                   Text="Diastolic (mmHg):"
                   VerticalAlignment="Center"/>

        <TextBox Grid.Row="3" Grid.Column="1"
                 Width="100"
                 Text="{Binding Diastolic, UpdateSourceTrigger=PropertyChanged}"
                 Margin="0,4"/>

        <!-- PULSE -->
        <TextBlock Grid.Row="4" Grid.Column="0"
                   Text="Pulse (bpm):"
                   VerticalAlignment="Center"/>

        <TextBox Grid.Row="4" Grid.Column="1"
                 Width="100"
                 Text="{Binding Pulse, UpdateSourceTrigger=PropertyChanged}"
                 Margin="0,4"/>

        <!-- READING TIME -->
        <TextBlock Grid.Row="5" Grid.Column="0"
                   Text="Reading Time:"
                   VerticalAlignment="Center"/>

        <DatePicker Grid.Row="5" Grid.Column="1"
                    Width="150"
                    SelectedDate="{Binding ReadingTime}"
                    Margin="0,4"/>

        <!-- NOTES -->
        <TextBlock Grid.Row="6" Grid.Column="0"
                   Text="Notes:"
                   VerticalAlignment="Top"/>

        <TextBox Grid.Row="6" Grid.Column="1"
                 Height="70"
                 AcceptsReturn="True"
                 TextWrapping="Wrap"
                 Text="{Binding Notes, UpdateSourceTrigger=PropertyChanged}"
                 Margin="0,4"/>

        <!-- BUTTONS -->
        <Grid Grid.Row="7"
      Grid.ColumnSpan="2"
      Margin="0,15,0,0">

            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <!-- NEW READING (LEFT) -->
            <Button Grid.Column="0"
            Content="New Reading"
            Width="100"
            Height="32"
            Click="NewReading_Click"/>

            <!-- SAVE / CANCEL (RIGHT) -->
            <StackPanel Grid.Column="2"
                Orientation="Horizontal">

                <Button Content="Save"
                Width="100"
                Height="32"
                Margin="0,0,10,0"
                Click="Save_Click"
                IsEnabled="{Binding CanSave}"/>

                <Button Content="Cancel"
                Width="100"
                Height="32"
                Click="Cancel_Click"/>
            </StackPanel>

        </Grid>


    </Grid>
</Window>
